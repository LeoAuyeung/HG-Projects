<!DOCTYPE HTML>
<html>
<head>
	<title>Ball-Z</title>
	<style>
	</style>
</head>

<body>
	
	<canvas id="myCanvas">
	</canvas>
	
	<!--<button onclick="setup()">Setup</button>-->
	<button onclick="myVar = setInterval(step, 10)">Play</button>
	<button onclick="clearInterval(myVar)">Pause</button>

	<script type="text/javascript">
		//Setup Stuff
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		
		var width = canvas.width = window.innerWidth;
		var height = canvas.height = window.innerHeight;
		
		//Functions
		function random(min, max) {
			var num = Math.floor(Math.random() * (max-min)) + min;
			return num;
		}
		
		class Ball {
			constructor() {
				this.x = width/2;
				this.y = height/2;
				this.dx = random(-10, 10);
				this.dy = random(-10, 10);
				this.color = 'rgb(' + random(0, 255) + ',' + random(0, 255) + ',' + random(0, 255) +')';
				this.size = random (10, 20);
			}
			
			drawBall() {
				ctx.beginPath();
				ctx.fillStyle = this.color;
				ctx.arc(this.x, this.y, this.size, 0, 2 * Math.PI);
				ctx.fill();
			}
			
			move() {
				if ((this.x + this.size) >= width) {
					this.dx = -(this.dx);
				}
				if ((this.x - this.size) <= 0) {
					this.dx = -(this.dx);
				}
				if ((this.y + this.size) >= height) {
					this.dy = -(this.dy);
				}
				if ((this.y - this.size) <= 0) {
					this.dy = -(this.dy);
				}

				this.x += this.dx;
				this.y += this.dy;
			}
			
		}
		
		var balls = [];
		var myVar;
		
		function setup() {
			//Create all balls
			while (balls.length < 5) {
				var ball = new Ball();
				balls.push(ball);
			}
			for (i = 0; i < balls.length; i++) {
				balls[i].drawBall();
				balls[i].move();
			}
		}
		
		setup();
		
		function step() {
			ctx.clearRect(0, 0, width, height);
			for (i = 0; i < balls.length; i++) {
				balls[i].drawBall();
				balls[i].move();
			}
		}
		
		//setInterval(step, 100);
	
	</script>
	
</body>
</html>